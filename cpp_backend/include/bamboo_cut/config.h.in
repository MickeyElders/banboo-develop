#ifndef BAMBOO_CUT_CONFIG_H
#define BAMBOO_CUT_CONFIG_H

// 版本信息
#define BAMBOO_CUT_VERSION_MAJOR @PROJECT_VERSION_MAJOR@
#define BAMBOO_CUT_VERSION_MINOR @PROJECT_VERSION_MINOR@
#define BAMBOO_CUT_VERSION_PATCH @PROJECT_VERSION_PATCH@
#define BAMBOO_CUT_VERSION "@PROJECT_VERSION@"

// 目标架构
#define TARGET_ARCH "@TARGET_ARCH@"

// 注意：功能开关现在通过CMakeLists.txt中的target_compile_definitions设置
// 这里不再使用#cmakedefine，避免重复定义

// 路径配置
#define MODELS_PATH "/opt/bamboo-cut/models"
#define CONFIG_PATH "/opt/bamboo-cut/config"
#define LOG_PATH "/var/log/bamboo-cut"

// 性能参数
#define MAX_DETECTION_POINTS 10
#define MAX_FRAME_BUFFER_SIZE 30
#define DEFAULT_INFERENCE_THREADS 4

// 通信参数
#define DEFAULT_MODBUS_PORT 502
#define DEFAULT_MODBUS_TIMEOUT_MS 5000
#define HEARTBEAT_INTERVAL_MS 2000

// GStreamer pipeline配置
#ifdef TARGET_ARCH_AARCH64
    // Jetson优化pipeline
    #define DEFAULT_CAMERA_PIPELINE "nvarguscamerasrc ! video/x-raw(memory:NVMM), width=1920, height=1080, framerate=30/1 ! nvvidconv ! video/x-raw, format=BGRx ! videoconvert ! video/x-raw, format=BGR ! appsink"
#else
    // x86_64通用pipeline
    #define DEFAULT_CAMERA_PIPELINE "v4l2src ! video/x-raw, width=1920, height=1080, framerate=30/1 ! videoconvert ! video/x-raw, format=BGR ! appsink"
#endif

// 日志级别
#ifndef NDEBUG
    #define DEFAULT_LOG_LEVEL 0  // DEBUG
#else
    #define DEFAULT_LOG_LEVEL 2  // INFO
#endif

#endif // BAMBOO_CUT_CONFIG_H 