# 智能切竹机硬件测试平台搭建指南

## 概述

本指南提供智能切竹机硬件测试平台的完整搭建方案，采用分阶段实施策略，确保每个子系统都能独立验证和测试。

---

## 🎯 总体目标

构建一个功能完整的智能切竹机硬件测试平台，包括：
- AI视觉识别系统
- PLC控制系统  
- 机械运动平台
- 安全监控系统
- 通信网络

---

## 📋 硬件选型清单

### 阶段1：基础通信测试平台

#### 核心控制单元
| 组件 | 型号/规格 | 数量 | 预算参考 | 备注 |
|------|-----------|------|----------|------|
| Jetson Nano开发板 | NVIDIA Jetson Nano 4GB | 1 | ¥1,200 | 含散热器套件 |
| microSD卡 | SanDisk Extreme 64GB | 1 | ¥200 | A2级高速卡 |
| 电源适配器 | 5V/4A DC电源 | 1 | ¥150 | 官方推荐规格 |
| 无线网卡 | Intel AC8265 | 1 | ¥100 | 可选，便于调试 |

#### PLC控制系统（方案选择）
| 方案 | 型号 | 价格 | 优缺点 |
|------|------|------|--------|
| 方案A | 西门子S7-1215C DC/DC/DC | ¥3,500 | 稳定可靠，生态完善，价格较高 |
| 方案B | 台达DVP28SV11T2 | ¥1,800 | 性价比高，国产支持好 |
| 方案C | 信捷XC3-48T-E | ¥1,200 | 成本最低，功能满足需求 |
| 方案D | ModbusPal软件模拟 | ¥0 | 仅用于软件测试阶段 |

#### 网络设备
| 组件 | 型号/规格 | 数量 | 预算参考 |
|------|-----------|------|----------|
| 以太网交换机 | TP-Link TL-SG1005 | 1 | ¥80 |
| 网线 | Cat6 超五类网线 | 5米 | ¥50 |

### 阶段2：视觉系统

#### 摄像头系统
| 组件 | 型号/规格 | 数量 | 预算参考 | 备注 |
|------|-----------|------|----------|------|
| 工业摄像头 | 海康威视MV-CA050-10GC | 1 | ¥2,800 | 500万像素，GigE接口 |
| 镜头 | 16mm F1.4工业定焦镜头 | 1 | ¥800 | C口接口 |
| 镜头转接环 | C-CS转接环 | 1 | ¥30 | 根据需要选择 |

#### 照明系统
| 组件 | 型号/规格 | 数量 | 预算参考 |
|------|-----------|------|----------|
| LED条形光源 | 24V 6500K白光 50cm | 2 | ¥400 |
| LED电源 | 24V/3A开关电源 | 1 | ¥120 |
| 光源控制器 | 亮度可调控制器 | 1 | ¥200 |

#### 支架系统
| 组件 | 型号/规格 | 数量 | 预算参考 |
|------|-----------|------|----------|
| 摄像头支架 | 工业级万向调节支架 | 1 | ¥300 |
| 铝型材 | 4040铝型材 1米 | 4 | ¥200 |
| 连接件 | 角码、螺栓等 | 1套 | ¥100 |

### 阶段3：机械运动平台

#### 直线运动系统
| 组件 | 型号/规格 | 数量 | 预算参考 | 备注 |
|------|-----------|------|----------|------|
| 直线导轨 | THK SHS25 1000mm | 1 | ¥3,500 | 高精度滚珠导轨 |
| 滑块 | THK SHS25V | 2 | ¥800 | 配套滑块 |
| 滚珠丝杠 | 1605 1000mm | 1 | ¥600 | 螺距5mm |
| 联轴器 | 弹性联轴器 D25×L30 | 1 | ¥80 | 连接电机和丝杠 |

#### 伺服驱动系统
| 组件 | 型号/规格 | 数量 | 预算参考 |
|------|-----------|------|----------|
| 伺服电机 | 台达ECMA-C20604SS | 1 | ¥1,200 |
| 伺服驱动器 | 台达ASD-A2-0421-L | 1 | ¥800 |
| 编码器电缆 | 3米伺服编码器线 | 1 | ¥100 |

### 阶段4：切割系统

#### 切割工具
| 组件 | 型号/规格 | 数量 | 预算参考 | 备注 |
|------|-----------|------|----------|------|
| 切割电机 | 775直流电机 12V | 1 | ¥200 | 测试用，后续可升级 |
| 调速器 | PWM调速器模块 | 1 | ¥80 | 电机速度控制 |
| 切割片 | Φ100mm锯片 | 5 | ¥100 | 测试用小型锯片 |
| 夹持装置 | 气动夹爪 | 1 | ¥400 | 竹材固定 |

### 阶段5：安全与电气

#### 安全系统
| 组件 | 型号/规格 | 数量 | 预算参考 |
|------|-----------|------|----------|
| 急停按钮 | Φ40红色蘑菇头 | 2 | ¥100 |
| 安全继电器 | 施耐德XPS-AF | 1 | ¥600 |
| 接近开关 | M18感应距离8mm | 4 | ¥200 |
| 光栅传感器 | 安全光栅10mm分辨率 | 1 | ¥800 |

#### 电气控制
| 组件 | 型号/规格 | 数量 | 预算参考 |
|------|-----------|------|----------|
| 控制柜 | 400×300×200不锈钢 | 1 | ¥300 |
| 开关电源 | 24V/10A导轨式 | 1 | ¥200 |
| 断路器 | 小型断路器10A | 3 | ¥150 |
| 接线端子 | 导轨式端子排 | 1套 | ¥100 |

---

## 🔧 分阶段搭建计划

### 阶段1：基础通信测试平台（1-2周）

#### 目标
验证Jetson Nano与PLC之间的Modbus TCP通信稳定性和性能。

#### 搭建步骤

1. **Jetson Nano系统准备**
   ```bash
   # 下载官方镜像并烧录到SD卡
   # 首次启动配置
   sudo apt update && sudo apt upgrade -y
   
   # 安装必要软件包
   sudo apt install python3-pip python3-venv -y
   sudo pip3 install -r requirements.txt
   ```

2. **网络环境配置**
   ```bash
   # 配置静态IP
   sudo nano /etc/netplan/01-netcfg.yaml
   ```
   ```yaml
   network:
     version: 2
     ethernets:
       eth0:
         dhcp4: no
         addresses: [192.168.1.10/24]
         gateway4: 192.168.1.1
         nameservers:
           addresses: [8.8.8.8, 8.8.4.4]
   ```

3. **PLC配置（以台达为例）**
   - 设置IP地址：192.168.1.20
   - 启用Modbus TCP服务
   - 配置寄存器地址映射

4. **通信测试**
   运行测试程序验证连接：
   ```bash
   python test/test_communication.py
   ```

#### 验收标准
- [ ] 网络ping通延迟<1ms
- [ ] Modbus TCP读写成功率>99.9%
- [ ] 通信延迟<10ms
- [ ] 连续运行24小时无断线

### 阶段2：视觉系统集成（2-3周）

#### 目标
完成摄像头安装调试，实现图像采集和基础图像处理功能。

#### 搭建步骤

1. **摄像头硬件安装**
   - 安装摄像头支架和调节机构
   - 连接摄像头到Jetson Nano
   - 安装并调试照明系统

2. **驱动程序安装**
   ```bash
   # 安装海康威视MVS SDK
   sudo dpkg -i MVS-2.1.2_aarch64.deb
   
   # 测试摄像头连接
   python test/test_camera.py
   ```

3. **图像校准**
   - 镜头畸变校正
   - 像素-毫米比例标定
   - 光照条件优化

#### 验收标准
- [ ] 图像分辨率达到2048×1536
- [ ] 帧率稳定在30fps
- [ ] 像素-毫米转换精度<0.1mm
- [ ] 图像质量满足识别要求

### 阶段3：机械平台搭建（3-4周）

#### 目标
完成直线运动平台的机械安装和电气连接，实现精确定位控制。

#### 搭建步骤

1. **机械组装**
   - 铝型材框架搭建
   - 直线导轨和丝杠安装
   - 伺服电机安装和联轴器连接

2. **电气连接**
   - 伺服驱动器参数配置
   - PLC与驱动器信号连接
   - 限位开关和编码器接线

3. **运动控制调试**
   - 原点回归程序
   - 定位精度测试
   - 运动参数优化

#### 验收标准
- [ ] 定位精度±0.05mm
- [ ] 重复定位精度±0.02mm
- [ ] 最大运行速度≥80mm/s
- [ ] 行程范围0-1000mm

### 阶段4：切割系统集成（2-3周）

#### 目标
集成切割工具和夹持系统，实现安全可控的切割功能。

#### 搭建步骤

1. **切割工具安装**
   - 切割电机固定安装
   - 安全防护罩安装
   - 切割片安装和动平衡

2. **夹持系统调试**
   - 气动夹爪安装
   - 夹持力调节
   - 竹材定位精度测试

3. **安全系统集成**
   - 急停回路测试
   - 安全联锁验证
   - 故障诊断功能

#### 验收标准
- [ ] 切割精度±0.2mm
- [ ] 夹持力可调50-300N
- [ ] 急停响应时间<100ms
- [ ] 安全系统功能完备

### 阶段5：系统集成与测试（2-3周）

#### 目标
完成所有子系统的集成，进行端到端的功能验证和性能优化。

#### 测试项目
- 整机功能验证
- 精度和重复性测试
- 安全系统测试
- 长期稳定性测试
- 性能指标验证

---

## 🔌 电气连接图

### 主电源分配
```
AC 220V
    ├── 开关电源24V/10A
    │   ├── PLC电源
    │   ├── 伺服驱动器电源
    │   ├── 照明系统
    │   └── 气动系统
    ├── Jetson Nano 5V/4A
    └── 切割电机12V
```

### 信号连接
```
PLC控制器
├── DI0~DI7: 限位开关、急停按钮、传感器
├── DO0~DO7: 指示灯、继电器、气动阀
├── AI0~AI3: 模拟传感器信号
├── AO0~AO1: 模拟输出控制
└── 以太网: 与Jetson Nano通信
```

---

## 🔧 测试程序开发

我将为您创建专门的硬件测试程序。

---

## ⚠️ 安全注意事项

### 电气安全
- 所有设备必须良好接地
- 安装漏电保护器
- 使用合适规格的电线和保险丝

### 机械安全
- 安装防护罩和安全标识
- 设置急停按钮
- 定期检查机械紧固件

### 人员安全
- 操作前必须接受安全培训
- 佩戴适当的防护用品
- 遵守操作规程

---

## 📊 成本预算

| 阶段 | 预算范围 | 关键组件 |
|------|----------|----------|
| 阶段1 | ¥2,000-5,000 | Jetson Nano + PLC |
| 阶段2 | ¥4,000-6,000 | 工业摄像头 + 照明 |
| 阶段3 | ¥6,000-8,000 | 直线导轨 + 伺服系统 |
| 阶段4 | ¥2,000-3,000 | 切割工具 + 夹持装置 |
| 阶段5 | ¥1,500-2,000 | 安全系统 + 电气柜 |
| **总计** | **¥15,500-24,000** | 完整测试平台 |

*注：价格为参考价格，实际采购价格可能有所差异*

---

## 📞 技术支持

- 硬件选型咨询
- 安装调试指导  
- 故障排除支持
- 升级改造建议

---

*硬件搭建指南版本: v1.0*  
*最后更新: 2025-01-11*  
*下次修订: 2025-04-11* 